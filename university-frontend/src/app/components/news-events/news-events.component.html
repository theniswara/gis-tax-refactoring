<div class="bg-gray-50 min-h-screen py-16">
  <div class="max-w-7xl mx-auto px-4">
    
    <!-- News Detail View -->
    <div *ngIf="selectedNews" class="bg-white rounded-2xl shadow-lg overflow-hidden mb-12">
      <!-- Back Button -->
      <div class="p-6 border-b border-gray-200">
        <button 
          (click)="closeNewsDetail()"
          class="flex items-center text-blue-600 font-semibold hover:text-blue-800">
          <lucide-icon [img]="ArrowRight" [size]="20" class="rotate-180 mr-2"></lucide-icon>
          Back to News
        </button>
      </div>

      <!-- Article Header Image -->
      <div class="relative h-96">
        <img [src]="selectedNews.image" [alt]="selectedNews.title" class="w-full h-full object-cover" />
        <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-8 text-white">
          <span class="text-sm font-bold px-3 py-1 rounded-full mb-4 inline-block"
                [ngClass]="getCategoryColor(selectedNews.category)">
            {{ selectedNews.category }}
          </span>
          <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ selectedNews.title }}</h1>
          <div class="flex items-center gap-6 text-sm">
            <span class="flex items-center">
              <lucide-icon [img]="Calendar" [size]="16" class="mr-2"></lucide-icon>
              {{ formatDate(selectedNews.date) }}
            </span>
            <span>By {{ selectedNews.author }}</span>
            <span class="flex items-center">
              <lucide-icon [img]="Eye" [size]="16" class="mr-2"></lucide-icon>
              {{ formatNumber(selectedNews.views) }} views
            </span>
          </div>
        </div>
      </div>

      <!-- Article Content -->
      <div class="p-8 md:p-12 max-w-4xl mx-auto">
        <div class="prose prose-lg max-w-none">
          <p class="text-xl text-gray-700 leading-relaxed mb-6">{{ selectedNews.excerpt }}</p>
          
          <div class="text-gray-700 leading-relaxed space-y-4">
            <p>{{ selectedNews.content }}</p>
            
            <!-- Simulated article content -->
            <p>Excellence University continues to make strides in academic excellence and research innovation. Our commitment to providing world-class education has never been stronger, and this achievement is a testament to the hard work of our faculty, staff, and students.</p>
            
            <p>This recognition places us among the elite institutions globally, acknowledging our contributions to research, teaching quality, and international collaboration. The ranking considers factors such as academic reputation, employer reputation, faculty-to-student ratio, citations per faculty, and international diversity.</p>
            
            <h2 class="text-2xl font-bold text-gray-900 mt-6 mb-4">Key Achievements</h2>
            <ul class="list-disc list-inside space-y-2">
              <li>Increased research output by 25% over the past year</li>
              <li>Expanded international partnerships with 30+ universities</li>
              <li>Enhanced student support services and facilities</li>
              <li>Recruited world-renowned faculty members</li>
              <li>Improved graduate employment outcomes</li>
            </ul>
            
            <h2 class="text-2xl font-bold text-gray-900 mt-6 mb-4">Looking Forward</h2>
            <p>As we celebrate this achievement, we remain focused on our mission to provide transformative education and groundbreaking research. Our strategic plan includes further investments in cutting-edge facilities, expanded scholarship programs, and innovative academic programs that prepare students for the challenges of tomorrow.</p>
            
            <p class="text-gray-600 italic border-l-4 border-blue-600 pl-4 my-6">
              "This recognition is a reflection of the dedication and excellence of our entire university community. We are committed to building on this momentum and continuing to provide world-class education and research opportunities." - President Dr. Robert Williams
            </p>
            
            <p>The university will host a celebration event next month to commemorate this milestone with faculty, students, staff, and alumni. Details about the event will be announced soon.</p>
          </div>
        </div>

        <!-- Share & Engage -->
        <div class="mt-8 pt-8 border-t border-gray-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
              <button class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                Share Article
              </button>
              <button class="border-2 border-gray-300 text-gray-700 px-6 py-2 rounded-lg font-semibold hover:border-gray-400 transition-all">
                Save for Later
              </button>
            </div>
            <div class="text-gray-600">
              <span class="font-semibold">{{ formatNumber(selectedNews.likes) }}</span> people liked this
            </div>
          </div>
        </div>

        <!-- Related Articles -->
        <div class="mt-12">
          <h3 class="text-2xl font-bold text-gray-900 mb-6">Related Articles</h3>
          <div class="grid md:grid-cols-3 gap-6">
            <div *ngFor="let relatedNews of news.slice(0, 3)" 
                 class="border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all cursor-pointer"
                 (click)="readMore(relatedNews)">
              <img [src]="relatedNews.image" [alt]="relatedNews.title" class="w-full h-40 object-cover" />
              <div class="p-4">
                <span class="text-xs font-bold px-2 py-1 rounded-full"
                      [ngClass]="getCategoryColor(relatedNews.category)">
                  {{ relatedNews.category }}
                </span>
                <h4 class="font-bold text-gray-900 mt-2 mb-1 line-clamp-2">{{ relatedNews.title }}</h4>
                <p class="text-xs text-gray-500">{{ formatDate(relatedNews.date) }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Event Detail View -->
    <div *ngIf="selectedEvent" class="bg-white rounded-2xl shadow-lg overflow-hidden mb-12">
      <!-- Back Button -->
      <div class="p-6 border-b border-gray-200">
        <button 
          (click)="closeEventDetail()"
          class="flex items-center text-blue-600 font-semibold hover:text-blue-800">
          <lucide-icon [img]="ArrowRight" [size]="20" class="rotate-180 mr-2"></lucide-icon>
          Back to Events
        </button>
      </div>

      <!-- Event Header Image -->
      <div class="relative h-96">
        <img [src]="selectedEvent.image" [alt]="selectedEvent.title" class="w-full h-full object-cover" />
        <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-8 text-white">
          <span class="text-sm font-bold px-3 py-1 rounded-full mb-4 inline-block"
                [ngClass]="getEventTypeColor(selectedEvent.type)">
            {{ selectedEvent.type }}
          </span>
          <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ selectedEvent.title }}</h1>
          <div class="flex items-center gap-6 text-sm flex-wrap">
            <span class="flex items-center">
              <lucide-icon [img]="Calendar" [size]="16" class="mr-2"></lucide-icon>
              {{ formatDate(selectedEvent.date) }}
            </span>
            <span class="flex items-center">
              <lucide-icon [img]="Clock" [size]="16" class="mr-2"></lucide-icon>
              {{ selectedEvent.time }}
            </span>
            <span class="flex items-center">
              <lucide-icon [img]="MapPin" [size]="16" class="mr-2"></lucide-icon>
              {{ selectedEvent.location }}
            </span>
          </div>
        </div>
      </div>

      <!-- Event Content -->
      <div class="p-8 md:p-12 max-w-4xl mx-auto">
        
        <!-- Registration Status -->
        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-8">
          <div class="flex items-center justify-between mb-4">
            <div>
              <h3 class="text-xl font-bold text-gray-900">Registration Status</h3>
              <p class="text-gray-600">{{ selectedEvent.registrations }} out of {{ selectedEvent.capacity }} spots filled</p>
            </div>
            <div class="text-right">
              <div class="text-3xl font-bold text-blue-600">
                {{ ((selectedEvent.registrations / selectedEvent.capacity) * 100).toFixed(0) }}%
              </div>
              <div class="text-sm text-gray-600">Capacity</div>
            </div>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
            <div 
              class="bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all"
              [style.width]="((selectedEvent.registrations / selectedEvent.capacity) * 100) + '%'">
            </div>
          </div>
          <div class="flex gap-3">
            <button 
              (click)="registerForEventFromDetail(selectedEvent.id)"
              [disabled]="selectedEvent.registrations >= selectedEvent.capacity"
              [class]="selectedEvent.registrations >= selectedEvent.capacity 
                ? 'flex-1 bg-gray-400 text-white py-3 rounded-lg font-bold cursor-not-allowed' 
                : 'flex-1 bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-all'">
              {{ selectedEvent.registrations >= selectedEvent.capacity ? 'Event Full' : 'Register Now' }}
            </button>
            <button class="border-2 border-blue-600 text-blue-600 px-8 py-3 rounded-lg font-bold hover:bg-blue-50 transition-all">
              Add to Calendar
            </button>
          </div>
        </div>

        <!-- Event Details Grid -->
        <div class="grid md:grid-cols-2 gap-8 mb-8">
          <div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Event Information</h3>
            <div class="space-y-4">
              <div class="flex items-start">
                <lucide-icon [img]="Calendar" [size]="24" class="text-blue-600 mr-3 flex-shrink-0"></lucide-icon>
                <div>
                  <div class="font-semibold text-gray-900">Date</div>
                  <div class="text-gray-600">{{ formatDate(selectedEvent.date) }}</div>
                </div>
              </div>
              <div class="flex items-start">
                <lucide-icon [img]="Clock" [size]="24" class="text-blue-600 mr-3 flex-shrink-0"></lucide-icon>
                <div>
                  <div class="font-semibold text-gray-900">Time</div>
                  <div class="text-gray-600">{{ selectedEvent.time }}</div>
                </div>
              </div>
              <div class="flex items-start">
                <lucide-icon [img]="MapPin" [size]="24" class="text-blue-600 mr-3 flex-shrink-0"></lucide-icon>
                <div>
                  <div class="font-semibold text-gray-900">Location</div>
                  <div class="text-gray-600">{{ selectedEvent.location }}</div>
                </div>
              </div>
              <div class="flex items-start">
                <lucide-icon [img]="Users" [size]="24" class="text-blue-600 mr-3 flex-shrink-0"></lucide-icon>
                <div>
                  <div class="font-semibold text-gray-900">Capacity</div>
                  <div class="text-gray-600">{{ selectedEvent.capacity }} attendees</div>
                </div>
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Featured Speakers</h3>
            <div class="space-y-3">
              <div *ngFor="let speaker of selectedEvent.speakers" 
                   class="bg-gray-50 rounded-lg p-4 flex items-center">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold mr-4">
                  {{ speaker.charAt(0) }}
                </div>
                <div>
                  <div class="font-semibold text-gray-900">{{ speaker }}</div>
                  <div class="text-sm text-gray-600">Speaker</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- About This Event -->
        <div class="mb-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-4">About This Event</h3>
          <div class="prose prose-lg max-w-none">
            <p class="text-gray-700 leading-relaxed mb-4">{{ selectedEvent.description }}</p>
            
            <p class="text-gray-700 leading-relaxed mb-4">
              This event is a fantastic opportunity to connect with fellow students, faculty, and professionals in the field. 
              Whether you're looking to expand your network, gain valuable insights, or simply explore new opportunities, 
              this event has something for everyone.
            </p>

            <h4 class="text-xl font-bold text-gray-900 mt-6 mb-3">What to Expect</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>Engaging presentations from industry experts</li>
              <li>Interactive Q&A sessions</li>
              <li>Networking opportunities with peers and professionals</li>
              <li>Refreshments and light snacks provided</li>
              <li>Certificate of attendance for all participants</li>
            </ul>

            <h4 class="text-xl font-bold text-gray-900 mt-6 mb-3">Who Should Attend</h4>
            <p class="text-gray-700 leading-relaxed">
              This event is open to all students, faculty, staff, and community members interested in 
              {{ selectedEvent.type.toLowerCase() }} topics. No prior experience or registration fee required.
            </p>
          </div>
        </div>

        <!-- Important Notes -->
        <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6 mb-8">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
            <lucide-icon [img]="Eye" [size]="20" class="mr-2 text-yellow-600"></lucide-icon>
            Important Notes
          </h3>
          <ul class="space-y-2 text-sm text-gray-700">
            <li>• Please arrive 15 minutes early for check-in</li>
            <li>• Bring your student ID for registration verification</li>
            <li>• Limited parking available - carpooling encouraged</li>
            <li>• Event will be recorded for those unable to attend</li>
            <li>• Questions? Contact events&#64;excellence.edu</li>
          </ul>
        </div>

        <!-- Contact & Share -->
        <div class="border-t border-gray-200 pt-8">
          <div class="flex flex-wrap gap-4 justify-center">
            <button class="bg-blue-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-700 transition-all">
              Share Event
            </button>
            <button class="border-2 border-gray-300 text-gray-700 px-8 py-3 rounded-lg font-bold hover:border-gray-400 transition-all">
              Download Event Details
            </button>
            <button class="border-2 border-gray-300 text-gray-700 px-8 py-3 rounded-lg font-bold hover:border-gray-400 transition-all">
              Contact Organizer
            </button>
          </div>
        </div>

        <!-- Related Events -->
        <div class="mt-12">
          <h3 class="text-2xl font-bold text-gray-900 mb-6">Other Upcoming Events</h3>
          <div class="grid md:grid-cols-3 gap-6">
            <div *ngFor="let relatedEvent of events.slice(0, 3)" 
                 class="border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all cursor-pointer"
                 (click)="viewEventDetails(relatedEvent)">
              <img [src]="relatedEvent.image" [alt]="relatedEvent.title" class="w-full h-40 object-cover" />
              <div class="p-4">
                <span class="text-xs font-bold text-white px-2 py-1 rounded-full"
                      [ngClass]="getEventTypeColor(relatedEvent.type)">
                  {{ relatedEvent.type }}
                </span>
                <h4 class="font-bold text-gray-900 mt-2 mb-1 line-clamp-2">{{ relatedEvent.title }}</h4>
                <div class="text-xs text-gray-500 flex items-center mt-2">
                  <lucide-icon [img]="Calendar" [size]="12" class="mr-1"></lucide-icon>
                  {{ formatDate(relatedEvent.date) }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Regular News & Events View -->
    <div *ngIf="!selectedNews && !selectedEvent">
    
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-5xl font-bold text-gray-900 mb-4">News & Events</h1>
      <p class="text-xl text-gray-600">Stay updated with the latest from Excellence University</p>
    </div>

    <!-- Tabs -->
    <div class="bg-white rounded-2xl shadow-lg p-2 mb-8 inline-flex">
      <button 
        (click)="setActiveTab('all')"
        [class]="activeTab === 'all' ? 'px-6 py-3 rounded-lg font-semibold bg-blue-600 text-white' : 'px-6 py-3 rounded-lg font-semibold text-gray-600 hover:bg-gray-100'">
        All Updates
      </button>
      <button 
        (click)="setActiveTab('news')"
        [class]="activeTab === 'news' ? 'px-6 py-3 rounded-lg font-semibold bg-blue-600 text-white' : 'px-6 py-3 rounded-lg font-semibold text-gray-600 hover:bg-gray-100'">
        News ({{ news.length }})
      </button>
      <button 
        (click)="setActiveTab('events')"
        [class]="activeTab === 'events' ? 'px-6 py-3 rounded-lg font-semibold bg-blue-600 text-white' : 'px-6 py-3 rounded-lg font-semibold text-gray-600 hover:bg-gray-100'">
        Events ({{ events.length }})
      </button>
    </div>

    <!-- News Grid -->
    <div *ngIf="activeTab === 'all' || activeTab === 'news'" class="mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-8">Latest News</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div *ngFor="let item of news" 
             class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all cursor-pointer transform hover:-translate-y-2"
             (click)="readMore(item)">
          <div class="relative">
            <img [src]="item.image" [alt]="item.title" class="w-full h-56 object-cover" />
            <div class="absolute top-4 left-4">
              <span class="text-white px-3 py-1 rounded-full text-xs font-bold"
                    [ngClass]="getCategoryColor(item.category)">
                {{ item.category }}
              </span>
            </div>
          </div>
          <div class="p-6">
            <div class="flex items-center justify-between mb-3 text-xs text-gray-500">
              <span class="flex items-center">
                <lucide-icon [img]="Calendar" [size]="12" class="mr-1"></lucide-icon>
                {{ formatDate(item.date) }}
              </span>
              <span class="flex items-center">
                <lucide-icon [img]="Eye" [size]="12" class="mr-1"></lucide-icon>
                {{ formatNumber(item.views) }}
              </span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors line-clamp-2">
              {{ item.title }}
            </h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-3">{{ item.excerpt }}</p>
            <div class="flex items-center justify-between pt-4 border-t border-gray-100">
              <span class="text-xs text-gray-500">By {{ item.author }}</span>
              <button 
                (click)="readMore(item); $event.stopPropagation()"
                class="text-blue-600 font-semibold text-sm flex items-center hover:text-blue-800">
                Read More
                <lucide-icon [img]="ArrowRight" [size]="16" class="ml-1"></lucide-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Events Section -->
    <div *ngIf="activeTab === 'all' || activeTab === 'events'" class="mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-8">Upcoming Events</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div *ngFor="let event of events" 
             class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all">
          <div class="grid md:grid-cols-3">
            <img [src]="event.image" [alt]="event.title" class="w-full h-full object-cover" />
            <div class="md:col-span-2 p-6">
              <div class="flex items-start gap-4 mb-4">
                <div class="bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-xl p-3 text-center min-w-[70px] shadow-lg">
                  <div class="text-2xl font-bold">{{ getEventDay(event.date) }}</div>
                  <div class="text-xs font-semibold">{{ getEventMonth(event.date) }}</div>
                </div>
                <div class="flex-1">
                  <span class="text-xs font-bold text-white px-2 py-1 rounded-full"
                        [ngClass]="getEventTypeColor(event.type)">
                    {{ event.type }}
                  </span>
                  <h3 class="text-xl font-bold text-gray-900 mt-2">{{ event.title }}</h3>
                </div>
              </div>
              <p class="text-gray-600 text-sm mb-4">{{ event.description }}</p>
              <div class="space-y-2 mb-4 text-sm text-gray-600">
                <div class="flex items-center">
                  <lucide-icon [img]="Clock" [size]="16" class="mr-2 text-blue-600"></lucide-icon>
                  {{ event.time }}
                </div>
                <div class="flex items-center">
                  <lucide-icon [img]="MapPin" [size]="16" class="mr-2 text-blue-600"></lucide-icon>
                  {{ event.location }}
                </div>
                <div class="flex items-center">
                  <lucide-icon [img]="Users" [size]="16" class="mr-2 text-blue-600"></lucide-icon>
                  {{ event.registrations }}/{{ event.capacity }} registered
                </div>
              </div>
              <div class="flex gap-2">
                <button 
                  (click)="registerForEvent(event.id); $event.stopPropagation()"
                  class="flex-1 bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                  Register Now
                </button>
                <button 
                  (click)="viewEventDetails(event); $event.stopPropagation()"
                  class="border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-50 transition-all">
                  Details
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Featured Stories Section -->
    <div class="bg-gradient-to-br from-blue-900 to-purple-900 text-white rounded-2xl p-8 mb-12">
      <h2 class="text-3xl font-bold mb-6">Featured Stories</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-white bg-opacity-10 rounded-xl p-6 backdrop-blur-sm hover:bg-opacity-20 transition-all cursor-pointer">
          <span class="text-xs font-bold text-blue-300 bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full">
            Student Success
          </span>
          <h3 class="text-xl font-bold mt-3 mb-2">From Campus to Career</h3>
          <p class="text-sm text-blue-100">How our alumni are making an impact in their industries</p>
        </div>
        <div class="bg-white bg-opacity-10 rounded-xl p-6 backdrop-blur-sm hover:bg-opacity-20 transition-all cursor-pointer">
          <span class="text-xs font-bold text-purple-300 bg-purple-900 bg-opacity-50 px-3 py-1 rounded-full">
            Innovation
          </span>
          <h3 class="text-xl font-bold mt-3 mb-2">Research That Matters</h3>
          <p class="text-sm text-blue-100">Groundbreaking discoveries from our research labs</p>
        </div>
        <div class="bg-white bg-opacity-10 rounded-xl p-6 backdrop-blur-sm hover:bg-opacity-20 transition-all cursor-pointer">
          <span class="text-xs font-bold text-green-300 bg-green-900 bg-opacity-50 px-3 py-1 rounded-full">
            Community
          </span>
          <h3 class="text-xl font-bold mt-3 mb-2">Making a Difference</h3>
          <p class="text-sm text-blue-100">Student-led initiatives creating positive change</p>
        </div>
      </div>
    </div>

    <!-- Subscribe Section -->
    <div class="bg-white rounded-2xl shadow-lg p-8 text-center">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">Stay in the Loop</h2>
      <p class="text-gray-600 mb-6">Subscribe to our newsletter for the latest news and event announcements</p>
      <div class="max-w-md mx-auto flex gap-2">
        <input 
          type="email" 
          placeholder="Enter your email address"
          class="flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        />
        <button class="bg-blue-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-700 transition-all">
          Subscribe
        </button>
      </div>
    </div>

    </div>
    <!-- End Regular View -->

  </div>
</div>